generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Login {
  CODUSER Int @id @default(autoincrement())

  USUARIO String
  SENHA   String

  @@map("LOGIN")
}

model Produto {
  CODPROD Int @id @default(autoincrement())

  DESCRICAO String
  STATUS    Boolean @default(true)

  ALUGUEIS Aluguel[]

  @@map("PRODUTO")
}

model Cliente {
  CODCLI Int @id @default(autoincrement())

  NOME    String
  CONTATO String

  ALUGUEIS Aluguel[]

  @@map("CLIENTE")
}

model Aluguel {
  CODALU Int @id @default(autoincrement())

  STATUS       Boolean
  DATAINICIO   DateTime
  DATAFINAL    DateTime
  ENDERECO     String
  PRECOINICIAL Float

  CLIENTE Cliente? @relation(fields: [CODCLI], references: [CODCLI])
  CODCLI  Int?
  PRODUTO Produto? @relation(fields: [CODPROD], references: [CODPROD])
  CODPROD Int?

  FATURADO Faturado?

  @@map("ALUGUEL")
}

model Faturado {
  CODFAT Int @id @default(autoincrement())

  PRECOFINAL   Float
  DATAFATURADO DateTime

  ALUGUEL Aluguel? @relation(fields: [CODALU], references: [CODALU])
  CODALU  Int?     @unique

  @@map("FATURADO")
}
